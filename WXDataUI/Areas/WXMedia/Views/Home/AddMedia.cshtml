@using WXDataModel

@*@using (Html.BeginForm("AddMedia", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {*@



<div class="modal-dialog" style="width:600px">
    <div class="modal-content">
        @*<form action="/WXMedia/Home/AddMedia" id="media" method="post" enctype="multipart/form-data">*@
@using (Html.BeginForm("AddMedia", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">新增素材</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="col-sm-3">素材类型</label>
                    <div class="col-sm-9">
                        <select class="form-control" name="MediaType" id="MediaType">
                            <option value="image">图片</option>
                            <option value="voice">语音</option>
                            <option value="video">视频</option>
                            <option value="thumb">缩略图</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3" for="MediaName"></label>
                    <div class="col-sm-9">
                        <input type="file" name="Media" id="Media" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <input type="submit" name="Upload" class="btn btn-primary" value="保存">
            </div>
}
        @*</form>*@
        
            @*<text>选择上传文件：</text><input name="file" type="file" id="file" />
            <br />
            <br />
            <input type="submit" name="Upload" value="Upload" />*@
        

    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
@*}*@

<script>
    $(function () {
        //$("#submit").click(function () {
        //    var data = $("#media").serialize();
        //    console.info(data);
        //    //$.post("/WXMedia/Home/AddMedia", data, function (r) {

        //    //});
        //    $.ajax({
        //        url: "/WXMedia/Home/AddMedia",
        //        type: 'post',
        //        data: data,
        //        contentType: false,  //必须: 需要设置为false,不然后台拿不到数据
        //        processData: false,  //必须: 传送DOM信息,所以设为false
        //        dataType: "json",
        //        success: function (res) {
        //        },
        //        error: function (res) {

        //        }

        //    });
        //});
    });
</script>